<!DOCTYPE html>
<html>
<head>
    <title>Japanese Wordle</title>
    <link rel="icon" type="image/x-icon" href="/favicon.png">
    <meta property="og:title" content="Japanese Wordle" /> 
    <meta property="og:description" content="Created by M.J" /> 
    <meta property="og:image" content="https://catbot20222.github.io/favicon.png" /> 
    <meta property="og:url" content="https://catbot20222.github.io/" />
    <meta property="og:site_name" content="M.J" />
    <meta name="theme-color" content="#ba563a">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&display=swap" rel="stylesheet">
    <style>
    .default {
    font-family: "Noto Sans JP", sans-serif;
    font-optical-sizing: auto;
    font-weight: 600;
    font-style: normal;
    line-height: 0.9;
    background-color: rgb(218, 218, 218); 
    color: rgb(26, 26, 26);
    }
    .default2 {
    font-family: "Noto Sans JP", sans-serif;
    font-optical-sizing: auto;
    font-weight: 600;
    font-style: normal;
    line-height: 0.0;
    }
    .Dark {
    font-family: "Noto Sans JP", sans-serif;
    font-optical-sizing: auto;
    font-weight: 500;
    font-style: normal;
    line-height: 0.9;
    background-color: rgb(53, 53, 53); 
    color: rgb(228, 228, 228);
    }
    .darkes {
    font-weight: 400;
    background-color: rgb(53, 53, 53); 
    color: rgb(228, 228, 228);
    }
    .lightes {
    font-family: "Noto Sans JP", sans-serif;
    font-optical-sizing: auto;
    font-style: normal;
    line-height: 0.9;
    background-color: rgb(228, 228, 228); 
    color: rgb(26, 26, 26);
    font-weight: 700;
    }
    /* alex turner is my hero */
    .wrong { 
    font-family: "Noto Sans JP", sans-serif;
    font-optical-sizing: auto;
    font-weight: 500;
    font-style: normal;
    line-height: 0.9;
    background-color: rgb(37, 37, 37);
    color: rgb(204, 204, 204);
    display: inline-block; 
       height: 1.15em;
       line-height: 1.1;
    }
    .yellow {
    font-family: "Noto Sans JP", sans-serif;
    font-optical-sizing: auto;
    font-weight: 500;
    font-style: normal;
    line-height: 0.9;
    background-color: rgb(241, 243, 102);
    color: rgb(56, 56, 56);
    display: inline-block; 
       height: 1.15em;
       line-height: 1.1;
    }
    .green {
    font-family: "Noto Sans JP", sans-serif;
    font-optical-sizing: auto;
    font-weight: 500;
    font-style: normal;
    line-height: 0.9;
    background-color: rgb(125, 224, 100);
    color: rgb(232, 255, 227);
    display: inline-block; 
       height: 1.15em;
       line-height: 1.1;
    }
    .Easy {
    background-color: rgb(125, 224, 100);
    color: rgb(63, 63, 63);
    }
    .Medium {
    background-color: rgb(233, 179, 30);
    color: rgb(59, 59, 59);
    }
    .Hard {
    background-color: rgb(199, 27, 27);
    color: rgb(232, 255, 227); 
    }
        </style>
<script>
kanafull = "あいうえおアイウエオぁぃぅぇぉかきくけこカキクケコァィゥェォさしすせそサシスセソッーったちつてとタチツテトゃゅょなにぬねのナニヌネノャュョはひふへほハヒフヘホまみむめもマミムメモやゆよヤユヨらりるれろラリルレロわんをワンャがぎぐげごガギグゲゴざじずせぞザジズセゾだでどダデドばびぶべぼバビブベボぱぴぷぺぽパピプペポ";
function dark() {
    var doc = document.getElementById("darkin");
    document.body.classList.toggle("darkes");
    document.getElementById("kana list").classList.toggle("darkes");
    document.getElementById("storage").classList.toggle("darkes");
    document.getElementById("inside").classList.toggle("darkes");
    doc.classList.toggle("lightes")
    if (doc.className.includes( "lightes")) {
    doc.innerHTML = "Light Mode";
    } else {
    doc.innerHTML = "Dark Mode";
    }

}
const twana = [
    "おはよう", "よろしく", "いもうと", "おとうと", "ともだち", "やさしい", "かわいい", "きびしい", "みなさん", "こうえん", "はじめまして", "こんにちは", "おはようございます", "どうぞよろしく", "かぞく", "うち", "せんせい", "ありがとう", "ごめんなさい", "ごめん", "おかあさん", "おとうさん", "おねえさん", "おにいさん", "おばあさん", "おじいさん", "あたまがいい", "おもしろい", "かわいい", "きれい", "かっこいい", "きびしい", "げんき", "しずか", "つかいます", "あそびます", "します", "そうじします", "りょうりします", "います", "あります", "いきます", "みます", "よみます", "かきます", "べんきょうします", "あそびます", "げつようび", "かようび", "すいようび", "もくようび", "きんようび", "どようび", "にちようび"
];
    
var randTwana = twana[Math.floor(Math.random() * twana.length)];
var guesses = []
var closeg = []
var correct = []
var closet = []
var diff = "Easy"
function setLen() {  
    document.getElementById("lencount").innerHTML = randTwana.length + " Kana Long";
    document.getElementById("chall").classList.toggle(diff);
}
function switchChallenge() {
    document.getElementById("chall").classList.toggle(diff);
    if (diff == "Easy") {
        diff = "Medium"
        const twana = [
            "あかるい", "あたらしい", "わるい", "せまい", "ひろい", "ちいさい", "おおきい", "きたない", "うるさい", "あかい", "あおい", "きいろい", "くろい", "すてき", "べんり", "じてんしゃ", "バス", "えいがかん", "きっさてん", "デパート", "としょかん", "レストラン", "うみ", "まち", "えき", "いっしょ", "しゅみ", "たんじょうび", "カラオケ", "バーベキュー", "うた", "うんどう", "あさごはん", "ひるごはん", "よるごはん", "ゆうがた", "のります", "つきます", "でかきます", "きます", "かいまます", "うたいます", "はじまります", "あいます", "ききます", "はなします", "わかります", "せんしゅう", "こんしゅう", "らいしゅう", "しゅうまつ", "ひま"
        ];
    } else if (diff == "Medium") {
        diff = "Hard"
        const twana = [
            "あかるい", "あたらしい", "わるい", "せまい", "ひろい", "ちいさい", "おおきい", "きたない", "うるさい", "あかい", "あおい", "きいろい", "くろい", "すてき", "べんり", "じてんしゃ", "バス", "えいがかん", "きっさてん", "デパート", "としょかん", "レストラン", "うみ", "まち", "えき", "いっしょ", "しゅみ", "たんじょうび", "カラオケ", "バーベキュー", "うた", "うんどう", "あさごはん", "ひるごはん", "よるごはん", "ゆうがた", "のります", "つきます", "でかきます", "きます", "かいまます", "うたいます", "はじまります", "あいます", "ききます", "はなします", "わかります", "せんしゅう", "こんしゅう", "らいしゅう", "しゅうまつ", "ひま",
            "おはよう", "よろしく", "いもうと", "おとうと", "ともだち", "やさしい", "かわいい", "きびしい", "みなさん", "こうえん", "はじめまして", "こんにちは", "おはようございます", "どうぞよろしく", "かぞく", "うち", "せんせい", "ありがとう", "ごめんなさい", "ごめん", "おかあさん", "おとうさん", "おねえさん", "おにいさん", "おばあさん", "おじいさん", "あたまがいい", "おもしろい", "かわいい", "きれい", "かっこいい", "きびしい", "げんき", "しずか", "つかいます", "あそびます", "します", "そうじします", "りょうりします", "います", "あります", "いきます", "みます", "よみます", "かきます", "べんきょうします", "あそびます", "げつようび", "かようび", "すいようび", "もくようび", "きんようび", "どようび", "にちようび"
        ];
    } else {
        diff = "Easy"
        const twana = [
            "おはよう", "よろしく", "いもうと", "おとうと", "ともだち", "やさしい", "かわいい", "きびしい", "みなさん", "こうえん", "はじめまして", "こんにちは", "おはようございます", "どうぞよろしく", "かぞく", "うち", "せんせい", "ありがとう", "ごめんなさい", "ごめん", "おかあさん", "おとうさん", "おねえさん", "おにいさん", "おばあさん", "おじいさん", "あたまがいい", "おもしろい", "かわいい", "きれい", "かっこいい", "きびしい", "げんき", "しずか", "つかいます", "あそびます", "します", "そうじします", "りょうりします", "います", "あります", "いきます", "みます", "よみます", "かきます", "べんきょうします", "あそびます", "げつようび", "かようび", "すいようび", "もくようび", "きんようび", "どようび", "にちようび"
        ];
    }
    document.getElementById("chall").innerHTML =  diff
    document.getElementById("chall").classList.toggle(diff);
    Clear()

}
function Clear() {
    closeg = []  
    correct = []
    randTwana = twana[Math.floor(Math.random() * twana.length)];
    document.getElementById("lencount").innerHTML = randTwana.length + " Kana Long"
    document.getElementById("kana list").innerHTML = "あいうえお　アイウエオ　ぁぃぅぇぉ<br>かきくけこ　カキクケコ　ァィゥェォ<br>さしすせそ　サシスセソ　ッ　ー　っ<br>たちつてと　タチツテト　ゃ　ゅ　ょ<br>なにぬねの　ナニヌネノ　ャ　ュ　ョ<br>はひふへほ　ハヒフヘホ<br>まみむめも　マミムメモ<br>や　ゆ　よ　ヤ　ユ　ヨ<br>らりるれろ　ラリルレロ<br>わ　ん　を　ワ　ン　ャ<br>がぎぐげご　ガギグゲゴ<br>ざじずせぞ　ザジズセゾ<br>だ　　でど　ダ　　デド<br>ばびぶべぼ　バビブベボ<br>ぱぴぷぺぽ　パピプペポ<br>";
    document.getElementById("storage").innerHTML = ''
    guesses = []
    
};
function checkAnswer(guess, answer) {
    var output = ""
    var lengthy = document.getElementById("storage").innerHTML.length;
    closeg = []
    closet = []
    for (let i = 0; i < guess.length; i++) {
        if (guess[i] == answer[i] ) {
            document.getElementById("kana list").innerHTML = document.getElementById("kana list").innerHTML.replace(guess[i], `<mark class='green'>${guess[i]}</mark>`);
            output += `<mark class='green'>${guess[i]}</mark>`
            correct[guess[i]] = 'true'
            answer = answer.substring(0,i) + "_" + answer.substring(i+1) 
        } else if (answer.includes(guess[i]) && guess[answer.indexOf(guess[i])] != guess[i] && answer.indexOf(guess[i],closeg[guess[i]]+1) != -1){
           
            output += `<mark class='yellow'>${guess[i]}</mark>`
            closet[guess[i]] = 'true'
            if (closeg[guess[i]] == []){
                closeg[guess[i]] = answer.indexOf(guess[i])
            } else {
                closeg[guess[i]] = answer.indexOf(guess[i],closeg[guess[i]]+1)
            }
            if (correct[guess[i]] != 'true' ) {
                document.getElementById("kana list").innerHTML = document.getElementById("kana list").innerHTML.replace(guess[i], `<mark class='yellow'>${guess[i]}</mark>`);
            }
        } else if (answer.includes(guess[i]) == false || guess[answer.indexOf(guess[i])] == guess[i] || answer.indexOf(guess[i],closeg[guess[i]]+1) == -1){
            output += `<mark class='wrong'>${guess[i]}</mark>`
            if (correct[guess[i]] != 'true' && closet[guess[i]] != 'true') {
                document.getElementById("kana list").innerHTML = document.getElementById("kana list").innerHTML.replace(guess[i], `<mark class='wrong'>${guess[i]}</mark>`);
            }
        }
        
    }
    return(output)
}
function updateThingy(e) {
    e.preventDefault()
    var inputKana = document.getElementById("guessfield").value;
    if (inputKana.length != randTwana.length) {
    alert(`The Word should be ${randTwana.length} Kana Long!`);
    return false;
    
    } else if (guesses.includes(`${inputKana}`) == true) {
        alert(`You've already tried answering ${inputKana}!`);
        return false;
    } else {
        k = false
        for (let i = 0; i < inputKana.length; i++) {
            if (kanafull.includes(inputKana[i]) != true){k = true;break;}}
        if (k){alert(`Your Answer must be in Hiragana or Katakana`);
        return false;
        }
    }
    guesses.push(`${inputKana}`)
    highlightedinput = checkAnswer(inputKana,randTwana)
    document.getElementById("storage").innerHTML = document.getElementById("storage").innerHTML + '<br>' +highlightedinput;
    
    
}
function updateText() {
    var inputKana = document.getElementById("guessfield").value;
    document.getElementById("inside").innerHTML = inputKana;
}

</script>
</head>

<body onload="setLen() + dark()" class="default">
<button id="darkin"type="button" onclick="dark()" class="Dark" style="float: inline-end">Dark Mode</button>
<h2 class="default2">Japanese Wordle</h2> 
<h3 id="storage" class="default"></h3>
<h3 id="inside" class="default"></h3>

<form >
    <input type="text" id="guessfield" value="" onkeyup="updateText()", class="default">
    <input type="submit"id="Enter" value="Enter" onclick="updateThingy(event)", class="default" style="background-color: rgb(144, 190, 132);">
    <button type="button" id="chall" onclick="switchChallenge()" class="default">Easy</button>
    <h2 id="lencount" class="default2"></h2>
</form>
<button type="button" onclick="Clear()" class="default" style="background-color: rgb(190, 132, 132);">Reset</button>
<h1 class="default" id="kana list">
あいうえお　アイウエオ　ぁぃぅぇぉ<br>
かきくけこ　カキクケコ　ァィゥェォ<br>
さしすせそ　サシスセソ　ッ　ー　っ<br>
たちつてと　タチツテト　ゃ　ゅ　ょ<br>
なにぬねの　ナニヌネノ　ャ　ュ　ョ<br>
はひふへほ　ハヒフヘホ<br>
まみむめも　マミムメモ<br>
や　ゆ　よ　ヤ　ユ　ヨ<br>
らりるれろ　ラリルレロ<br>
わ　ん　を　ワ　ン　ャ<br>
がぎぐげご　ガギグゲゴ<br>
ざじずせぞ　ザジズセゾ<br>
だ　　でど　ダ　　デド<br>
ばびぶべぼ　バビブベボ<br>
ぱぴぷぺぽ　パピプペポ<br>
</h1>

</body>
</html>